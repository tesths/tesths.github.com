I"ˆS<h2 id="for-cm-and-plusub">FOR CM AND PLUSUB</h2>

<h2 id="åºŸè¯">åºŸè¯</h2>
<blockquote>
  <p>å¼€å‘iOSè·ç¦»ä¸€å¹´è¿˜æœ‰å››ä¸ªæœˆã€‚blockçš„æ–‡ç« çœ‹äº†å¾ˆå¤šã€‚ä¹Ÿåœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†ï¼Œä½†æ˜¯ä½¿ç”¨ç‡å¾ˆä½ï¼Œä»…é™äºæœ€æœ€ç®€å•çš„ç•Œé¢ä¼ å€¼ã€‚</p>
</blockquote>

<blockquote>
  <p>æˆ‘æœ€è¿‘å¤„äºä¸€ä¸ªæ·±åº¦å­¦ä¹ å’Œè¡¥ä½œä¸šåšå®éªŒçš„é˜¶æ®µ(é‡ç‚¹æ˜¯è¡¥ä½œä¸šå’Œåšå®éªŒ)ï¼Œè€Œä¸”ç»å†äº†ä¸¤ä¸ªé¡¹ç›®ç°åœ¨å¯¹äºOCçš„ç†è§£åˆæ›´è¿›äº†ä¸€æ­¥ã€‚äºæ˜¯æŠ½æ—¶é—´æŠŠä¹‹å‰ä¸‹è½½çš„å…³äºblockçš„è§†é¢‘åˆç¿»å‡ºæ¥çœ‹äº†ä¸€ä¸‹ã€‚æœ‰ä¸€äº›æ„Ÿå—å†™å‡ºæ¥ï¼Œä»¥ä¾¿CMå’ŒPLUSUBä»¥åçš„iOSerå¯ä»¥å¾ˆå¿«çš„å­¦ä¹ åˆ°å…³äºblockçš„ä½¿ç”¨ã€‚ä»¥åè¿™æ ·çš„æ–‡ç« éƒ½ä¼šåœ¨æ ‡é¢˜åŠ ä¸€ä¸ªFOR CM AND PLUSUBã€‚</p>
</blockquote>

<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2>
<blockquote>
  <p>blockå°±æ˜¯é—­åŒ…ï¼Œå¯ä»¥ç”¨æ¥å›è°ƒã€‚</p>
</blockquote>

<blockquote>
  <p>å†ç®€å•ä¸€ç‚¹ï¼ŒæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆã€‚</p>
</blockquote>

<blockquote>
  <p>æˆ‘ç°åœ¨åªä¼šç®€å•çš„ä½¿ç”¨blockï¼Œä¸‹åˆå†™äº†ä¸ªdemoåˆ©ç”¨blockå°è£…äº†afnetworkingç„¶ååœ¨å¦ä¸€ä¸ªç•Œé¢è°ƒç”¨afnetworkingçš„è¯·æ±‚ã€‚å½“ç„¶ä¸å¤æ‚ã€‚</p>
</blockquote>

<blockquote>
  <p>ä¸Šä»£ç å§ï¼Œä¸ç„¶å†åºŸè¯éƒ½è§£é‡Šä¸æ¸…æ¥šä»€ä¹ˆæ˜¯blockã€‚</p>
</blockquote>

<h2 id="part1-blockçš„ç®€å•å®šä¹‰"><em>part1 blockçš„ç®€å•å®šä¹‰</em></h2>
<p>æˆ‘ç°åœ¨å®šä¹‰ä¸€ä¸ªç®€å•çš„blockã€‚</p>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="n">myBlock</span><span class="p">)(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">str</span><span class="p">);</span><span class="c1">//1</span>
<span class="n">myBlock</span> <span class="o">=</span> <span class="o">^</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">str</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"---%@"</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span><span class="c1">//2</span>
<span class="p">};</span>
<span class="n">myBlock</span><span class="p">(</span><span class="s">@"11111"</span><span class="p">);</span><span class="c1">//3</span>
<span class="c1">// Outputs:---11111</span></code></pre></figure>

<p>å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ªè¿”å›å€¼ä¸ºvoidç±»å‹çš„blockã€‚voidåé¢è·Ÿäº†ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°å‡½æ•°åæ˜¯ä»¥^å¼€å¤´çš„ï¼Œéœ€è¦ç”¨æ‹¬å·åŒ…èµ·æ¥ï¼Œå‚æ•°ä¹Ÿéœ€è¦ç”¨æ‹¬å·åŒ…èµ·æ¥ã€‚å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªintç±»å‹ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªNSStringç±»å‹ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼å¯ä»¥æ˜¯å¤šä¸ªå‚æ•°è¿˜å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å½“ç„¶å¦‚æœæ˜¯intç±»å‹çš„blockå°±éœ€è¦returnä¸€ä¸ªè¿”å›å€¼äº†ã€‚</p>

<p>ç„¶åæˆ‘ä»¬å¼€å§‹å¯¹è¿™ä¸ªvoidç±»å‹çš„å‡½æ•°è¿›è¡Œå®šä¹‰ã€‚å°±æ˜¯ä»¤å®ƒç­‰äºä¸€ä¸ªâ€œ^+å‚æ•°â€ç„¶åé‡Œé¢åƒå®šä¹‰ä¸€ä¸ªå‡½æ•°ä¸€æ ·å°±è¡Œäº†ã€‚
åœ¨è°ƒç”¨è¿™ä¸ªblockçš„æ—¶å€™å°±ç›´æ¥å°±myBlockåŠ å‚æ•°å°±å¯ä»¥äº†ã€‚</p>

<p>æˆ‘ä»¬å¯ä»¥æ‰“æ–­ç‚¹æ¥çœ‹ä¸€ä¸‹æ•´ä¸ªblockçš„æ‰§è¡Œé¡ºåºã€‚æˆ‘åœ¨ä»£ç åé¢åŠ äº†æ ‡ç¤ºã€‚</p>

<p>æ‰§è¡Œé¡ºåºæ˜¯1 3 2ï¼Œå¯ä»¥çœ‹åˆ°myBlockæ²¡æœ‰æŒ‰ç…§ç¨‹åºæ‰§è¡Œçš„é¡ºåºæ¥è°ƒç”¨è€Œæ˜¯åœ¨è°ƒç”¨ä¹‹åæ‰§è¡Œäº†2çš„ä»£ç ã€‚è¿™ä¸ªä¾‹å­å¯èƒ½ä¸é‚£ä¹ˆæ˜æ˜¾ï¼Œä½†æ˜¯å¯ä»¥å¼€å§‹åˆæ­¥ç†è§£å›è°ƒã€‚</p>

<h2 id="part2-ä¼ å‚block"><em>part2 ä¼ å‚block</em></h2>
<p>ä¸‹é¢æŠŠéš¾åº¦åŠ å¤§ä¸€ç‚¹ï¼Œæˆ‘ä»¬æŠŠblockå½“å‚æ•°ä¼ ã€‚ç„¶åçœ‹ä¸€ä¸ªblockçš„ä¾‹å­ã€‚
é¦–å…ˆæ¥å›é¡¾ä¸€ä¸ªcè¯­è¨€é‡Œä¼Ÿå¤§çš„typedefï¼Œæˆ‘ä»¬å¼€å¤´ä¼šåˆ©ç”¨typedefå®šä¹‰ä¸€ä¸ªblockã€‚å¦‚æœä¸åˆ©ç”¨typedefå®šä¹‰ä¸€ä¸ªblockï¼Œé‚£ä¹ˆå‡½æ•°ä¼ å‚çš„æ—¶å€™ä¼šå†™å¾ˆå¤šä»£ç ã€‚ä¸€ä¼šæˆ‘ä¼šè¯¦è¿°ã€‚</p>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="cp">#import "ViewController.h"
</span><span class="k">typedef</span> <span class="nf">void</span> <span class="p">(</span><span class="o">^</span><span class="n">MyBlock</span><span class="p">)(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">str</span><span class="p">);</span><span class="c1">//typedefå®šä¹‰ä¸€ä¸ªblock</span>

<span class="k">@interface</span> <span class="nc">ViewController</span> <span class="p">()</span>
<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">ViewController</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">viewDidLoad</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">super</span> <span class="nf">viewDidLoad</span><span class="p">];</span>
    <span class="n">MyBlock</span> <span class="n">tblock</span> <span class="o">=</span> <span class="o">^</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">str</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">NSLog</span><span class="p">(</span><span class="s">@"-----%@"</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span><span class="c1">//1</span>
    <span class="p">};</span>
    <span class="p">[</span><span class="n">self</span> <span class="nf">testBlock</span><span class="p">:</span><span class="n">tblock</span><span class="p">];</span><span class="c1">//2</span>
<span class="p">}</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testBlock</span><span class="p">:(</span><span class="n">MyBlock</span><span class="p">)</span><span class="nv">mBlock</span>
<span class="c1">//å¦‚æœå¼€å§‹æ²¡æœ‰ç”¨typedefå®šä¹‰çš„è¯ï¼Œæ­¤å¤„çš„å‡½æ•°å˜ä¸º- (void)testBlock:(void(^)(NSString *str))myblock
//ç®€å•çš„è¯´æ ¼å¼å°±æ˜¯ â€œè¿”å›å€¼ + (^) + å‚æ•° + åå­—â€
</span><span class="p">{</span>
    <span class="n">mBlock</span><span class="p">(</span><span class="s">@"1111"</span><span class="p">);</span><span class="c1">//3</span>
<span class="p">}</span>
<span class="c1">// Outputs:-----1111</span></code></pre></figure>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å†™äº†ä¸€ä¸ªtestBlockçš„å‡½æ•°ï¼Œå°†æˆ‘ä»¬çš„tblockä½œä¸ºå‚æ•°ä¼ åˆ°äº†testBlockå‡½æ•°é‡Œé¢ï¼Œç„¶åå†testBlocké‡Œç”¨mBlockè°ƒç”¨äº†æˆ‘ä»¬æ‰€å†™çš„MyBlockè¿™ä¸ªå‡½æ•°ã€‚</p>

<p>æ‰“æ–­ç‚¹çœ‹ä¸€ä¸‹æ•´ä½“çš„è¿è¡Œæµç¨‹ï¼Œ2 3 1ã€‚è¿™é‡Œå¯ä»¥æ›´åŠ æ˜æ˜¾ç†è§£â€œå›è°ƒâ€çš„å«ä¹‰ã€‚</p>

<h2 id="part3-ç‚¹å‡»buttonè§¦å‘block"><em>part3 ç‚¹å‡»buttonè§¦å‘block</em></h2>
<p>ç»å†äº†ä¸Šé¢ä¸¤ä¸ªpartåŸºæœ¬ä¸Šåº”è¯¥å¯¹blockæœ‰ä¸ªç®€å•çš„ç†è§£ã€‚ä¸‹é¢å†åŠ ä¸€ç‚¹éš¾åº¦ï¼Œç”¨æŒ‰é’®è§¦å‘ä¸€ä¸ªå›è°ƒæ¥æ”¹å˜æŒ‰é’®çš„é¢œè‰²ã€‚</p>

<p>ä¸å¤šè§£é‡Šï¼Œç›´æ¥ä¸Šä»£ç ã€‚</p>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="cp">#import "ViewController.h"
</span><span class="k">typedef</span> <span class="nf">void</span> <span class="p">(</span><span class="o">^</span><span class="n">MyBlock</span><span class="p">)(</span><span class="n">UIColor</span> <span class="o">*</span><span class="n">color</span><span class="p">);</span>
<span class="k">@interface</span> <span class="nc">ViewController</span> <span class="p">()</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">UIButton</span> <span class="o">*</span><span class="n">testbtn</span><span class="p">;</span>
<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">ViewController</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">viewDidLoad</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">super</span> <span class="nf">viewDidLoad</span><span class="p">];</span>
    <span class="n">self</span><span class="p">.</span><span class="n">testbtn</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIButton</span> <span class="nf">buttonWithType</span><span class="p">:</span><span class="n">UIButtonTypeSystem</span><span class="p">];</span>
    <span class="n">self</span><span class="p">.</span><span class="n">testbtn</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span>
    <span class="n">self</span><span class="p">.</span><span class="n">testbtn</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIColor</span> <span class="nf">greenColor</span><span class="p">];</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nf">addSubview</span><span class="p">:</span><span class="n">self</span><span class="p">.</span><span class="n">testbtn</span><span class="p">];</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">testbtn</span> <span class="nf">addTarget</span><span class="p">:</span><span class="n">self</span> <span class="nf">action</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">testfunc</span><span class="p">)</span> <span class="n">forControlEvents</span><span class="o">:</span><span class="n">UIControlEventTouchUpInside</span><span class="p">];</span>
<span class="p">}</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">testfunc</span>
<span class="p">{</span>
    <span class="n">MyBlock</span> <span class="n">myblock</span> <span class="o">=</span> <span class="o">^</span><span class="p">(</span><span class="n">UIColor</span> <span class="o">*</span><span class="n">color</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">self</span><span class="p">.</span><span class="n">testbtn</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="n">color</span><span class="p">;</span>
    <span class="p">};</span>
    <span class="p">[</span><span class="n">self</span> <span class="nf">testBlock</span><span class="p">:</span><span class="n">myblock</span><span class="p">];</span>
<span class="p">}</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">testBlock</span><span class="p">:(</span><span class="n">MyBlock</span><span class="p">)</span><span class="nv">myBlock</span>
<span class="p">{</span>
    <span class="n">UIColor</span> <span class="o">*</span><span class="n">color</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIColor</span> <span class="nf">redColor</span><span class="p">];</span>
    <span class="n">myBlock</span><span class="p">(</span><span class="n">color</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h2 id="part4-åˆ©ç”¨å›è°ƒåˆ†ç¦»afnetworkçš„è¯·æ±‚"><em>part4 åˆ©ç”¨å›è°ƒåˆ†ç¦»afnetworkçš„è¯·æ±‚</em></h2>
<p>ç›´æ¥ä¸Šä»£ç äº†ã€‚</p>

<p>TestNetworkViewControlleræ˜¯afnetworkä½¿ç”¨çš„åœ°æ–¹ã€‚
TestViewControlleræ˜¯æˆ‘ä»¬éœ€è¦è°ƒç”¨ç½‘ç»œè¯·æ±‚çš„åœ°æ–¹ã€‚
SearchModelæ˜¯ä¸€ä¸ªmodelï¼Œæˆ‘ç”¨æ¥è§£ææ•°æ®çš„ã€‚</p>

<figure class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="c1">//  TestNetworkViewController.h</span>
<span class="cp">#import &lt;UIKit/UIKit.h&gt;
#import "SearchModel.h"
</span><span class="k">typedef</span> <span class="nf">void</span> <span class="p">(</span><span class="o">^</span><span class="n">GetModel</span><span class="p">)(</span><span class="n">SearchModel</span> <span class="o">*</span><span class="n">model</span><span class="p">);</span>
<span class="k">@interface</span> <span class="nc">TestNetworkViewController</span> <span class="p">:</span> <span class="nc">UIViewController</span>
<span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">getUrl</span><span class="p">:(</span><span class="n">GetModel</span><span class="p">)</span><span class="nv">getmodel</span><span class="p">;</span>
<span class="k">@end</span>

<span class="c1">//TestNetworkViewController.m</span>
<span class="cp">#import "TestNetworkViewController.h"
</span><span class="k">@interface</span> <span class="nc">TestNetworkViewController</span> <span class="p">()</span>
<span class="k">@end</span>
<span class="k">@implementation</span> <span class="nc">TestNetworkViewController</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">viewDidLoad</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">super</span> <span class="nf">viewDidLoad</span><span class="p">];</span>
<span class="p">}</span>
<span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">getUrl</span><span class="p">:(</span><span class="n">GetModel</span><span class="p">)</span><span class="nv">getmodel</span>
<span class="p">{</span>
    <span class="n">AFHTTPRequestOperationManager</span> <span class="o">*</span><span class="n">manager</span> <span class="o">=</span> <span class="p">[</span><span class="n">AFHTTPRequestOperationManager</span> <span class="nf">manager</span><span class="p">];</span>
    <span class="p">[</span><span class="n">manager</span> <span class="nf">GET</span><span class="p">:</span><span class="s">@"http://xxx.xx.xxx.xx:xxxx/app/search_haosou"</span> <span class="nf">parameters</span><span class="p">:@{</span><span class="s">@"keyword"</span><span class="o">:</span><span class="s">@"android"</span><span class="p">}</span> <span class="n">success</span><span class="o">:^</span><span class="p">(</span><span class="n">AFHTTPRequestOperation</span> <span class="o">*</span><span class="n">operation</span><span class="p">,</span> <span class="n">id</span> <span class="n">responseObject</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">NSLog</span><span class="p">(</span><span class="s">@"JSON: %@"</span><span class="p">,</span> <span class="n">responseObject</span><span class="p">);</span>
	<span class="n">SearchModel</span> <span class="o">*</span><span class="n">service</span> <span class="o">=</span> <span class="p">[</span><span class="n">MTLJSONAdapter</span> <span class="nf">modelOfClass</span><span class="p">:</span><span class="n">SearchModel</span><span class="p">.</span><span class="n">class</span> <span class="nf">fromJSONDictionary</span><span class="p">:</span><span class="n">responseObject</span> <span class="n">error</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span>
	<span class="n">getmodel</span><span class="p">(</span><span class="n">service</span><span class="p">);</span>
    <span class="p">}</span> <span class="n">failure</span><span class="o">:^</span><span class="p">(</span><span class="n">AFHTTPRequestOperation</span> <span class="o">*</span><span class="n">operation</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">NSLog</span><span class="p">(</span><span class="s">@"Error: %@"</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
    <span class="p">}];</span>
<span class="p">}</span>
<span class="k">@end</span>

<span class="c1">//  TestViewController.h</span>
<span class="cp">#import &lt;UIKit/UIKit.h&gt;
#import "SearchModel.h"
</span><span class="k">@interface</span> <span class="nc">TestViewController</span> <span class="p">:</span> <span class="nc">UIViewController</span>
<span class="k">@end</span>

<span class="cp">#import "TestViewController.h"
#import "TestNetworkViewController.h"
#import "SearchModel.h"
</span><span class="k">@interface</span> <span class="nc">TestViewController</span> <span class="p">()</span>
<span class="k">@property</span> <span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span> <span class="n">strong</span><span class="p">)</span> <span class="n">SearchModel</span> <span class="o">*</span><span class="n">test</span><span class="p">;</span>
<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">TestViewController</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">viewDidLoad</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">super</span> <span class="nf">viewDidLoad</span><span class="p">];</span>
    <span class="c1">// Do any additional setup after loading the view.</span>
    <span class="n">UIButton</span> <span class="o">*</span><span class="n">testBtn</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIButton</span> <span class="nf">buttonWithType</span><span class="p">:</span><span class="n">UIButtonTypeSystem</span><span class="p">];</span>
    <span class="p">[</span><span class="n">testBtn</span> <span class="nf">setTitle</span><span class="p">:</span><span class="s">@"test"</span> <span class="nf">forState</span><span class="p">:</span><span class="n">UIControlStateNormal</span><span class="p">];</span>
    <span class="p">[</span><span class="n">testBtn</span> <span class="nf">setTitleColor</span><span class="p">:[</span><span class="n">UIColor</span> <span class="nf">redColor</span><span class="p">]</span> <span class="nf">forState</span><span class="p">:</span><span class="n">UIControlStateNormal</span><span class="p">];</span>
    <span class="n">testBtn</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span>
    <span class="p">[</span><span class="n">testBtn</span> <span class="nf">addTarget</span><span class="p">:</span><span class="n">self</span> <span class="nf">action</span><span class="p">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">getUrl</span><span class="p">)</span> <span class="n">forControlEvents</span><span class="o">:</span><span class="n">UIControlEventTouchUpInside</span><span class="p">];</span>
    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">view</span> <span class="nf">addSubview</span><span class="p">:</span><span class="n">testBtn</span><span class="p">];</span>
    <span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIColor</span> <span class="nf">whiteColor</span><span class="p">];</span>
<span class="p">}</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">getUrl</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">TestNetworkViewController</span> <span class="nf">getUrl</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">SearchModel</span> <span class="o">*</span><span class="n">model</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">self</span><span class="p">.</span><span class="n">test</span> <span class="o">=</span> <span class="n">model</span><span class="p">;</span>
	<span class="n">NSLog</span><span class="p">(</span><span class="s">@"</span><span class="se">\n\n\n\n</span><span class="s">%@"</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">test</span><span class="p">);</span>
    <span class="p">}];</span>
<span class="p">}</span></code></pre></figure>

<h2 id="æ€»ç»“">æ€»ç»“</h2>
<blockquote>
  <p>é¦–å…ˆè¿˜æ˜¯å¾—è¯´ä¸€ä¸‹æˆ‘è¿™é‡Œåªæ˜¯æ¼”ç¤ºäº†æœ€æœ€ç®€å•çš„blockä½¿ç”¨ï¼Œå› ä¸ºä½œä¸ºä¸€ä¸ªiOSå¼€å‘è€…ä¸ä¼šblockï¼Œé‚£ä¹ˆæœ‰ä¸€å¤§åŠçš„ä»£ç æ˜¯çœ‹ä¸æ‡‚çš„ï¼Œåœ¨åé¢ç†è§£RACçš„æ—¶å€™ä¹Ÿä¼šå‡ºç°å¾ˆå¤§çš„é—®é¢˜ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘åªæ˜¯åšäº†ç®€å•çš„è¯´æ˜ï¼Œè‡³äºåœ¨blocké‡Œä¸ºä»€ä¹ˆä¸èƒ½è°ƒç”¨selfï¼Œè‡ªä»segmentfaultä¸Šæœ‰äººé—®è¿‡ä¹‹åæˆ‘ç­”é”™ä¹‹åç°åœ¨ä¹Ÿç®—æ˜¯ç†è§£äº†ä¸€éƒ¨åˆ†äº†ï¼Œä½†æ˜¯ç‰µæ‰¯åˆ°äº†å†…å­˜å›æ”¶çš„é—®é¢˜ï¼Œæˆ‘è¿˜éœ€è¦ä¸€æ®µæ—¶é—´æ¥æ¶ˆåŒ–ã€‚æ¶ˆåŒ–å®Œä¹‹åä¼šç»§ç»­å†™åšå®¢çš„ã€‚</p>
</blockquote>

<blockquote>
  <p>æ€»ä¹‹ï¼Œblockéå¸¸çš„æœ‰ç”¨ï¼ŒåˆæœŸå†™blockéå¸¸çš„éš¾è¿‡ï¼Œä½†æ˜¯éš¾è¿‡è¿‡äº†ä¹Ÿå°±æ…¢æ…¢ä¼šå–œæ¬¢ä¸Šblockçš„ã€‚</p>
</blockquote>

<h2 id="post-credits-scene">post-credits scene</h2>
<blockquote>
  <p>æœ€è¿‘å®åœ¨æ˜¯å¿™çš„ä¸å¯å¼€äº¤ï¼Œä¸€æ˜ŸæœŸä¸¤åœºè€ƒè¯•å››ä¸ªå®éªŒã€‚è¿˜æ¬ äº†äººjobdeer.comä¸€ç¯‡åšå®¢è¿˜æ²¡å†™ï¼Œäººé€çš„ä¹¦éƒ½æ²¡æ—¶é—´çœ‹ã€‚æŠ½æ—¶é—´è¿˜è¦è¡¥èµ·æ¥ã€‚</p>
</blockquote>

<blockquote>
  <p>æœ€è¿‘åšå®¢çš„æ›´æ–°é¢‘ç‡ä¹Ÿæ˜¯å¤§å¤§é™ä½â€¦å”‰ã€‚éƒ½æ˜¯æ³ªã€‚</p>
</blockquote>

<blockquote>
  <p>å…ˆå†™åˆ°è¿™äº†ã€‚</p>
</blockquote>
:ET